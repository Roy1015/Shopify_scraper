import os
from rembg import remove

input_path = '/Users/***/product.jpg'
output_path = '/Users/***/product_removed.jpg'

# list to store files
dir_path = '/Users/ryoaraki/Downloads/product_photo'
list = []
for path in os.listdir(dir_path):
    # check if current path is a file
    if os.path.isfile(os.path.join(dir_path, path)):
        list.append(path)
list.remove('.DS_Store')
print(list)

#for each photo, remove background
for photo in list:
    input_path= '/Users/ryoaraki/Downloads/product_photo/'+photo
    output_path= '/Users/ryoaraki/Downloads/product_photo/removed/'+photo+'-removed.jpg'
    with open(input_path, 'rb') as i:
        with open(output_path, 'wb') as o:
            input = i.read()
            output = remove(input)
            o.write(output)
